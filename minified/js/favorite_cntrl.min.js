function checkIfFavorites(e){0===$("#favorites-bar .fav-list li").length&&($("#favorites-bar .fav-list").append(no_favs),$("#favorites-bar").addClass("no-favorites")),e&&!$("#favorites-bar .fav-list li").has("p").length&&$('label[for="favorites-toggle"]').addClass("in")}function viewThis(e){$("#search :text").val(e.toLowerCase()),$("#search :submit").click(),$("#favorites-toggle").prop("checked",!1)}function copyThis(e){var t=localStorage.getItem(e);t=JSON.parse(t).usage,window.prompt("Press Ctrl+C or Command + Enter to Copy to clipboard",t)}function bindActions(){$(".snippit-shortcut").on("click",".delete-this",function(e){e.preventDefault();var t=$(this).closest(".snippit-shortcut").children(".term").text();localStorage.removeItem(t),$(this).closest(".snippit").remove(),checkIfFavorites(!1)})}function addToBar(e,t){$("#favorites-bar").hasClass("no-favorites")&&($("#favorites-bar .fav-list li").remove(),$("#favorites-bar").removeClass("no-favorites"));var a="snippit";t||(a+=" new");var o={className:a,tag_name:e},r=createTemplate("templates/favorite_tmpl.html",o);$(".favorites-cards .fav-list").append(r),bindActions()}function bindFavoriteOps(){$(".fav-button").click(function(e){if(e.preventDefault(),"undefined"==typeof Storage)return void alert("Your browser does not support local storage.  Please use a modern browser to enable favoriting.");var t={},a=$(".snipp-card h3").text();if(localStorage.hasOwnProperty(a))$(this).text("Favorite"),$(this).removeClass("favorited"),localStorage.removeItem(a),$("#"+a+"_").remove(),checkIfFavorites(!1);else{$("#favorites-toggle").prop("checked",!1),$(this).text("Favorited!"),$(this).addClass("favorited"),$('label[for="favorites-toggle"]').addClass("in");var o={"&lt;":"<","&gt;":">","<br>":"\n"};t.tag_name=a,t.usage=$("code").text().replace(/&lt;|&gt;|<br>/gi,function(e){return o[e]}),localStorage.setItem(t.tag_name,JSON.stringify(t));var a=t.tag_name;addToBar(a,!1)}}),$("#favorites-toggle").click(function(e){var t=$('label[for="favorites-toggle"]');this.checked&&t.hasClass("in")?t.toggleClass("in"):!this.checked&&$(".snippit").hasClass("new")&&$(".snippit").removeClass("new")})}var no_favs=createTemplate("templates/no_favorites.html",null),prompted,searched=0;if("undefined"!=typeof Storage){if(localStorage.length>1)for(var i=0;i<localStorage.length;i++){var cur=localStorage.getItem(localStorage.key(i));cur=JSON.parse(cur),cur.tag_name&&addToBar(cur.tag_name,!0)}}else alert("Local storage doesn't exists");checkIfFavorites(!0),bindFavoriteOps();